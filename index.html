
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ì—Ä–∞—Ñ–∏–∫ USD/ILS ‚Äî TradingView</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }

    #controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background: #fff;
      border-bottom: 1px solid #ddd;
    }

    button {
      padding: 6px 14px;
      font-size: 14px;
      cursor: pointer;
      border: 1px solid #888;
      background-color: #eee;
      border-radius: 4px;
    }

    .tradingview-widget-container {
      height: calc(100vh - 50px);
    }

    @media (max-width: 600px) {
      button {
        font-size: 12px;
        padding: 5px 10px;
      }
    }
  </style>
</head>
<body>
  <div id="controls">
    <button onclick="refreshWidget()">üîÅ –û–±–Ω–æ–≤–∏—Ç—å</button>
    <button onclick="toggleTheme()">üåó –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
  </div>

  <div class="tradingview-widget-container" id="tv-container">
    <div id="tradingview_usdils"></div>
  </div>

  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script>
    let currentTheme = "light";

    function renderWidget() {
      document.getElementById("tradingview_usdils").innerHTML = "";

      new TradingView.widget({
        "width": "100%",
        "height": "100%",
        "symbol": "FX_IDC:USDILS",
        "interval": "60",
        "timezone": "Asia/Jerusalem",
        "theme": currentTheme,
        "style": "1",
        "locale": "ru",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "hide_side_toolbar": false,
        "allow_symbol_change": true,
        "details": true,
        "hotlist": true,
        "studies": ["MACD@tv-basicstudies", "RSI@tv-basicstudies", "Volume@tv-basicstudies"]
      });
    }

    function refreshWidget() {
      renderWidget();
    }

    function toggleTheme() {
      currentTheme = currentTheme === "light" ? "dark" : "light";
      renderWidget();
    }

    renderWidget();
  </script>
</body>
</html>
